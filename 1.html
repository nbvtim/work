<!DOCTYPE html>
<html lang="ru">
<head>
    <style>
        td{font-size: 0.7em;border: 1px solid;}
    </style>
    <meta charset="UTF-8">
    <title>v1.0.7</title>
</head>
<body>    

<table>
    <tr> <td>1</td><td>2</td><td>3</td><td></td> </tr>
    <tr> <td></td><td></td><td></td><td></td> </tr>
    <tr> <td></td><td></td><td></td><td></td> </tr>
    <tr> <td></td><td></td><td></td><td>4</td> </tr>
</table>



    <div style="color: #b5baff; font-size: .2em;">@Tim_Yaitskikh Mail: exelent206@gmail.com Tel: +7 918 2117958</div>
    <input type="text" alt="asds" autofocus placeholder="ПОИСК" value="">
    <pre>
${text}
    </pre>

    <script>
window.onload = function(){
    let 
        c = console.log
        input = document.querySelector("input")
        pre = document.querySelector("pre")
        div = document.createElement("div")

    input.addEventListener("keyup", function(e){
        pozition = pre.innerText.indexOf(input.value)
        let arr = []
        while (input.value != "" && pozition != -1) {
            arr.push(pozition)
            pozition = pre.innerText.indexOf(input.value, pozition + 1)
        }

        if(input.value != ""){
            let arrStr = []
            for(j=0;j<arr.length;j++){    
                let str1=""
                let str2=""
                for( i = arr[j]; i < pre.innerText.length; i++){
                    if(pre.innerText[i] === "]"){break}
                    else{str2 += pre.innerText[i]}
                }
                for( i = arr[j]; i < pre.innerText.length; i--){
                    if(pre.innerText[i-1] === "["){break}
                    else{str1 += pre.innerText[i-1]}
                }
                str1 = str1.split('').reverse().join('')   
                arrStr.push((str1+str2).split(","))
            }
            pre.style.display = 'none'
c(arrStr)
c(arrStr[0])
c(arrStr[0][0])
            
//нужно както вывести в таблчном виде arrStr


            div.innerHTML = "<table>"+ "text" +"</table>"
            document.body.append(div)
        }else{
            pre.style.display = 'block'
            div.style.display = 'none'
        }
    })
} 
    </script>
</body>
</html>
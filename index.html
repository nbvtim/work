
<!DOCTYPE html>
<html lang="ru">
<head>
    <style>
        td{
            font-size: 0.7em;
            border: 1px solid;
            width: 100px;
            font-family: sans-serif;
        }
    </style>
    <meta charset="UTF-8">
    <title>NBV</title>
</head>
<body>

    <div style="color: #b5baff; font-size: .2em;">@Tim_Yaitskikh Mail: exelent206@gmail.com Telegram: @Tim_ax</div>
    <input type="text" alt="asds" autofocus placeholder="ПОИСК" value=""><span> v_0.0.25 </span>
    <pre style="color: rgb(186, 181, 255);">
[,Марка ,Номер]
[СФГ,SKODA OCTAVIA ,X 778 CH 124]
[СФГ,SKODA RAPID,H 020 TB 196]
[СФГ,ГA3 3102,H 074 AA 193]
[СФГ,LADA GRANTA,X 828 EO 93]
[СФГ,CHEVROLET CAMARO,X 621 AT 193]
[СФГ,SKODA RAPID,A 033 BB 193]
[СФГ,HYUNDAI SOLARIS,M 033 EO 761]
[СФГ,HYUNDAI SOLARIS,H 970 EO 761]
[СФГ,FORD FOCUS,H 413 PX 123]
[СФГ,RENAULT LOGAN,K 852 KC 193]
[СФГ,KIA SOUL,H 373 CC 93]
[СФГ,HYUNDAI SOLARIS,M 027 EO 761]
[СФГ,OPEL CORSA,X 188 BK 123]
[СФГ,KIA RIO,M 496 AB 196]
[СФГ,TOYOTA ALPHARD,12 LV 122]
[СФГ,TOYOTA ALPHARD,36 TC 574]
[СФГ,NISSAN TEANA ,У 146 OK 193]
[СФГ,TOYOTA LAND CRUISER PRADO,E 787 УМ 24]
[СФГ,FORD MUSTANG,У 626 MH 193]
[СФГ,FORD MUSTANG,X 795 MM 193]
[СФГ,FORD MUSTANG,У 500 PM 193]
[СФГ,TOYOTA CAMRY,K 986 BP 193]
[СФГ,LADA GRANTA, Е 947 СУ 123]
[СФГ,LADA LARGUS, M 168 EC 82]
[СФГ,LADA LARGUS, M 920 MK 82]
[СФГ,HYUNDAI SOLARIS, K 024 PK 123]
[СФГ,LADA LARGUS, E 065 OH 193]
[СФГ,LADA LARGUS, X 689 УА 123]
[СФГ,VOLKSWAGEN POLO, в 275 CP 123]
[СФГ, VOLKSWAGEN POLO, H 336 TH 123]
[СФГ, VOLKSWAGEN POLO, E 935 XX 123]
[СФГ, VOLKSWAGEN POLO, B 575 OH 193]
[СФГ, VOLKSWAGEN POLO, H 221 TH 123]
[СФГ, MERCEDES - BENZ VITO, A 625 AA 164]
[СФГ, MERCEDES - BENZ S 400, K 221 KK 123]
[СФГ, MERCEDES - BENZ S 350, M 046 XH 93]
[СФГ, MERCEDES - BENZ E 250, X 900 OX 123]
[СФГ, MERCEDES - BENZ E 200, P 717 TT 123]
[СФГ, BMW Z4, A 422 HT 193]
[СФГ, FORD MUSTANG, E 416 EB 193]
[СФГ, MERCEDES SLK 200, В 584 УВ 123]
[СФГ, VORTEX ESTINA, A 461 HK 43]
[СФГ, MERCEDES - BENZ VITO, P 776 HY 193]
[СФГ, DODGE CHALLENGER, K 938 ME 193]
[СФГ, KIA RIO, 0 013 КР 19]
[СФГ, TOYOTA ALPHARD, 36 VD 134]
[СФГ, HYUNDAI SOLARIS, O 476 ME 193]
[СФГ, RENAULT LOGAN, P 779 YX 199]
[СФГ, KIA RIO, O 326 MB 123]
[СФГ, MERCEDES - BENZ ML 350, A 071 BB 193]
[СФГ, MERCEDES - BENZ E 200, y 003 EC 23]
[СФГ, RENAULT LOGAN, H 346 PX 123]
[СФГ, TOYOTA ESTIMA, 71 VF 071]
[СФГ, МОТОЦИКЛ, 7546 KO 23]
[СФГ, SKODA RAPID, O 494 CA 154]
[СФГ, MERCEDES - BENZ GLC 250, M 380 HH 124]
[СФГ, LADA GRANTA, M 714 CY 123]
</pre>

    <script>
    window.onload = function(){
        let 
            c = console.log
            input = document.querySelector("input")
            pre = document.querySelector("pre")
            div = document.createElement("div")

        input.addEventListener("keyup", function(e){
            pozition = pre.innerText.indexOf(input.value)
            let arr = []
            while (input.value != "" && pozition != -1) {
                arr.push(pozition)
                pozition = pre.innerText.indexOf(input.value, pozition + 1)
            }
    
            if(input.value != "" && arr.length > 0){
                let arrStr = []
                for(j=0;j<arr.length;j++){    
                    let str1=""
                    let str2=""
                    for( i = arr[j]; i < pre.innerText.length; i++){
                        if(pre.innerText[i] === "]"){break}
                        else{str2 += pre.innerText[i]}
                    }
                    for( i = arr[j]; i < pre.innerText.length; i--){
                        if(pre.innerText[i-1] === "["){break}
                        else{str1 += pre.innerText[i-1]}
                    }
                    str1 = str1.split('').reverse().join('')   
                    arrStr.push((str1+str2).split(","))
                }
                let text = ""
                let textM = ""
                for (let i = 0; i < ",Марка ,Номер".split(",").length; i++) {
                    textM += "<td>" + ",Марка ,Номер".split(",")[i] + "</td>"
                }
                textM = "<tr>" + textM + "</tr>"
                c()
                //j - количество столбцов
                //i - количество строк
                for (let i = 0; i < arrStr.length; i++) {
                    text+="</tr>"
                    for (let j = 0; j < arrStr[i].length; j++) {
                        text+="<td>"+arrStr[i][j]+"</td>"
                    }
                }
                div.innerHTML = "<table>"+ textM + text + "</table>"
                document.body.append(div)
                pre.style.display = 'none'
                div.style.display = 'block'
            }else{
                pre.style.display = 'block'
                div.style.display = 'none'
            }
        })
    }
    </script>
</body>
</html>
